/**
 * PDF.js Worker v2.10.377
 * Copyright 2012 Mozilla Foundation
 *
 * This is a minimal worker implementation for ThreatVision 
(function () {
  'use strict';

  // Simple worker implementation
  var pdfWorker = {
    _callbacks: {},
    _nextCallbackId: 1,

    sendResponse: function (callback, response) {
      var callbackId = this._nextCallbackId++;
      this._callbacks[callbackId] = callback;
      
      self.postMessage({
        callbackId: callbackId,
        response: response
      });
    },

    handleMessage: function (data) {
      if (data.action === 'getDocument') {
        // Process the document request
        this.sendResponse(data.callback, {
          numPages: data.numPages || 1
        });
      } else if (data.action === 'getPage') {
        // Process the page request
        this.sendResponse(data.callback, {
          pageIndex: data.pageNumber - 1,
          pageInfo: {
            width: 800,
            height: 1100
          }
        });
      } else if (data.action === 'getTextContent') {
        // Return empty text content
        this.sendResponse(data.callback, {
          items: []
        });
      }
    }
  };

  // Set up event listener for messages
  self.addEventListener('message', function (event) {
    pdfWorker.handleMessage(event.data);
  });

  // Signal that the worker is ready
  self.postMessage({ type: 'ready' });
})();
